<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>登录</title>
	<link rel="stylesheet" href="/JavaEE/bootstrap/css/bootstrap.min.css">
	<script src="/JavaEE/bootstrap/jquery-1.11.3.min.js"></script>
	<script src="/JavaEE/bootstrap/bootstrap.min.js"></script>
</head>

<body>
	<div class="container-fluid">
		<!-- 顶部内容 -->
		<div class="container-fluid">
			<!-- 菜单栏 -->
			<div class="container-fluid">
				<div class="row">
					<div class="col-md-4">
						<img alt="图片无法显示" src="/JavaEE/img/logo2.png">
					</div>
					<div class="col-md-5">
						<img alt="图片无法显示" src="/JavaEE/img/header.png">
					</div>
					<div class="col-md-3" style="padding-top: 20px">
						<ol class="list-inline">
							<li><a href="/JavaEE/demo/regist.html">注册</a></li>
							<li><a href="/JavaEE/demo/login.html">登录</a></li>
							<li><a href="#">购物车</a></li>
							<li><a href="#">我的订单</a></li>
							<li><a href="#">退出登陆</a></li>
						</ol>
					</div>
				</div>
			</div>
			<!-- 导航条  -->
			<div class="container-fluid">
				<nav class="navbar navbar-inverse">
					<div class="container-fluid">
						<!-- Brand and toggle get grouped for better mobile display -->
						<div class="navbar-header">
							<button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
								data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
								<span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span
									class="icon-bar"></span> <span class="icon-bar"></span>
							</button>
							<a class="navbar-brand" href="index.html">首页</a>
						</div>

						<!-- Collect the nav links, forms, and other content for toggling -->
						<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
							<ul class="nav navbar-nav">
								<li class="active"><a href="#">手机数码<span class="sr-only">(current)</span></a></li>
								<li><a href="#">电脑办公</a></li>
								<li><a href="#">电脑办公</a></li>
								<li><a href="#">电脑办公</a></li>
							</ul>
							<form class="navbar-form navbar-right" role="search">
								<div class="form-group">
									<input type="text" class="form-control" placeholder="Search">
								</div>
								<button type="submit" class="btn btn-default">Submit</button>
							</form>
						</div>
						<!-- /.navbar-collapse -->
					</div>
					<!-- /.container-fluid -->
				</nav>
			</div>
		</div>
		<!-- 主体内容 -->
		<div class="container-fluid" style="background: url(/JavaEE/img/loginbg.jpg); width: 96.8;">
			<div class="container-fluid">
				<div class="row">
					<div class="col-md-7"></div>
					<div class="col-md-4"
						style="background: #fff; padding: 40px 40px; margin: 100px 0rem; border: 7px solid #ccc;">
						<span size="4">会员登录</span>&nbsp;&nbsp;USER LOGIN<span size="4" style="float: right;"><a
								href="/JavaEE/user?method=regist">注册</a></span>
						<form action="/JavaEE" method="post" id="loginForm" class="form-horizontal" style="margin: 15px 0 0 0;">
							<div class="form-group">
								<label for="username" class="col-sm-2 control-label">用户名</label>
								<div class="col-sm-9">
									<input type="text" name="username" required="required" id="username"
										class="form-control" placeholder="请输入用户名">
								</div>
							</div>
							<div class="form-group">
								<label for="exampleInputPassword2" class="col-sm-2 control-label">确认密码</label>
								<div class="col-sm-9">
									<input type="password" name="password" required="required" class="form-control"
										id="exampleInputPassword2" placeholder="请输入确认密码">
								</div>
							</div>
							<div class="form-group">
								<label for="exampleCheck1" class="col-sm-2 control-label">验证码</label>
								<div class="col-sm-2">
									<input type="text" id="exampleCheck1" class="form-control">
								</div>
								<div class="col-sm-2">
									<img alt="校验码无法显示" src="/JavaEE/img/captcha.jhtml">
								</div>
							</div>
							<div class="form-group">
								<div class="col-sm-offset-2 col-sm-10">
									<div class="checkbox">
										<label> <input type="checkbox" name="autologin" value="1" id="input2" /> 自动登录
										</label>&nbsp;&nbsp;&nbsp;&nbsp; <label> <input type="checkbox" name="persis"
												value="1" id="input1" /> 记住密码
										</label>
									</div>
								</div>
							</div>
							<div class="form-group">
								<div class="col-sm-offset-2 col-sm-10">
									<input type="submit" value="登录"
										style="background: url('/JavaEE/img/login.gif') no-repeat scroll 0 0 rgba(0, 0, 0, 0); height: 35px; width: 100px; color: white;">
								</div>
							</div>
						</form>
					</div>
					<div class="col-md-1"></div>
				</div>
			</div>
		</div>
		<!-- 底部内容 -->
		<div class="container-fluid">
			<div class="container-fluid" style="margin-top: 50px;">
				<img src="/JavaEE/img/footer.jpg" width="100%" height="78" alt="我们的优势" title="我们的优势" />
			</div>

			<div class="container-fluid" style="text-align: center; margin-top: 5px;">
				<ul class="list-inline">
					<li><a href="info.html">关于我们</a></li>
					<li><a>联系我们</a></li>
					<li><a>招贤纳士</a></li>
					<li><a>法律声明</a></li>
					<li><a>友情链接</a></li>
					<li><a>支付方式</a></li>
					<li><a>配送方式</a></li>
					<li><a>服务声明</a></li>
					<li><a>广告声明</a></li>
				</ul>
			</div>
			<div style="text-align: center; margin-top: 5px; margin-bottom: 20px;">
				Copyright &copy; 2005-2016 传智商城 版权所有</div>
		</div>
	</div>
	<script type="text/javascript" src="/JavaEE/js/utils.js"></script>
	<script type="text/javascript">
		/**
		 * 验输入内容是否为空
		 */
		//校验用户名是否为空
		Utils.on(document.getElementById("username"), "blur", function () {		
			if (Utils.strIsBlank(this.value)) {
				const node = document.createTextNode("请输入正确的用户名。");
				showTip(this, node);
			}
		});
		//校验密码是否为空
		Utils.on(document.getElementById("exampleInputPassword2"), "blur", function () {
			if (Utils.strIsBlank(this.value)) {
				const node = document.createTextNode("请输入正确的密码。");
				showTip(this, node);
			}
		});

		/**
		 * 表单校验
		*/
		Utils.on(document.getElementById("loginForm"), "submit", function (event) {
			var formData = new FormData(this);
			//异步校验
			Utils.async("post", convert_FormData_to_json(formData), "/JavaEE/user?method=checkUserLogin", function (data) {
				if (200 != data.code) {
					//取消事件的默认动作 event.preventDefault();
					event.returnValue=false;
					const node = document.createTextNode(data.msg);
					showTip(document.getElementById("loginForm"), node);
				}
			}, false, 'json');
		});
		

		function showTip(el, textNode) {
			//创建元素
			const newSubE = document.createElement("b");
			newSubE.setAttribute("style","color: red;");
			//添加子元素
			newSubE.appendChild(textNode);

			el.parentNode.appendChild(newSubE);

			//1s删除新创建的元素
			setTimeout(function () {
				el.parentNode.removeChild(newSubE);
			}, 1500);

		}

	</script>
</body>

</html>